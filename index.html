<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!--=============== FAVICON ===============-->
    <link rel="shortcut icon" href="assets/img/favicon.png" type="image/x-icon">
    
    <!--=============== REMIX ICONS ===============-->
    <link href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" rel="stylesheet">

    <!--=============== CSS ===============-->
    <link rel="stylesheet" href="assets/css/styles.css">

    
    <title>Tony Fred</title>
</head>
<body>
    <!--=============== HEADER ===============-->
    <header class="profile container">
        <!-- Theme button -->
        <i class="ri-moon-line change-theme" id="theme-button"></i>

        <div class="profile__container grid">
            <div class="profile__data">
                <div class="profile__border">
                    <div class="profile__perfil">
                        <!-- Insert your image, according to the example size of the portfolio -->
                        <img src="assets/img/profil.jpg" alt="">
                    </div>
                </div>

                <!-- déplacer les liens sociaux AU-DESSUS du nom (structure sémantique) -->
                <ul class="profile__social">
                    <li><a href="https://www.instagram.com/shadow.lifeee/" target="_blank" class="profile__social-link">
                        <i class="ri-instagram-line"></i>
                    </a></li>
                    <li><a href="https://www.linkedin.com/" target="_blank" class="profile__social-link">
                        <i class="ri-linkedin-box-line"></i>
                    </a></li>
                    <li><a href="https://www.facebook.com/freezer.l.v" target="_blank" class="profile__social-link">
                        <i class="ri-facebook-line"></i>
                    </a></li>
                </ul>

                <h2 class="profile__name">Tony Fred</h2>
                <h3 class="profile__profession">Developer web et mobile</h3>

                <!-- nouvelle bio (modifier le texte ici) -->
                <p class="profile__bio">Développeur web & mobile passionné — j'aime créer des interfaces propres et des expériences utilisateur fluides. Disponible pour projets et collaborations.</p>
                
                <div class="profile__info grid">
                    <div class="profile__info-group">
                        <h3 class="profile__info-number">1</h3>
                        <p class="profile__info-description">
                            Nombre <br> D'années
                        </p>
                    </div>
                    <div class="profile__info-group">
                        <h3 class="profile__info-number">5</h3>
                        <p class="profile__info-description">
                            Projets <br> fini
                        </p>
                    </div>
                    <div class="profile__info-group">
                        <h3 class="profile__info-number">5</h3>
                        <p class="profile__info-description"> Projets <br> en cours </p>
                    </div>
                </div>

                <div class="profile__buttons">
                    <!-- Insert your CV -->
                    <a download="" href="assets/cv/mon-cv.pdf" target="_blank" class="button">
                        Download CV <i class="ri-download-line"></i>
                    </a>

                    <div class="profile__buttons-small">
                        <!-- Insert a real number plus country code -->
                        <a href="https://api.whatsapp.com/send?phone=+221781460687&text=Hello, more information!" target="_blank" class="button button__small button__gray">
                            <i class="ri-whatsapp-line"></i>
                        </a>
                        <!-- Insert your brand name or profile -->
                        <a href="https://www.facebook.com/messages/t/100012894579477" target="_blank" class="button button__small button__gray">
                            <i class="ri-messenger-line"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!--=============== MAIN ===============-->
    <main class="main">
        <section class="filters container">
            <!--=============== FILTERS TABS ===============-->
            <ul class="filters__content">
                <button class="filters__button filter-tab-active" data-target="#projects">
                    Projects
                </button>
                <button class="filters__button" data-target="#skills">
                    Skills
                </button>
            </ul>

            <div class="filters__sections">
                <!--=============== PROJECTS ===============-->
                <div class="projects__content grid filters__active" data-content id="projects">
                    <article class="projects__card">
                        <div class="projects__carousel" data-autoplay>
                            <img src="assets/img/ecommerce1.jpg" alt="Site de e-commerce - vue 1" class="projects__img active" data-index="0">
                            <img src="assets/img/ecommerce2.jpg" alt="Site de e-commerce - vue 2" class="projects__img" data-index="1">
                            <img src="assets/img/ecommerce3.png" alt="Site de e-commerce - vue 3" class="projects__img" data-index="2">
                        </div>

                        <div class="projects__modal">
                            <div>
                                <span class="projects__subtitle">Web</span>
                                <h3 class="projects__title">Site de e-commerce</h3>
                            </div>
                        </div>
                    </article>

                    <article class="projects__card">
                        <div class="projects__carousel" data-autoplay>
                            <img src="assets/img/portfolio1.jpg" alt="Portfolio - vue 1" class="projects__img active" data-index="0">
                            <img src="assets/img/portfolio2.png" alt="Portfolio - vue 2" class="projects__img" data-index="1">
                            <img src="assets/img/portfolio3.jpg" alt="Portfolio - vue 3" class="projects__img" data-index="2">
                        </div>

                        <div class="projects__modal">
                            <div>
                                <span class="projects__subtitle">Web</span>
                                <h3 class="projects__title">Portfolio website</h3>
                            </div>
                        </div>
                    </article>

                    <article class="projects__card">
                        <div class="projects__carousel" data-autoplay>
                            <img src="assets/img/fast-food1.png" alt="App fast-food - vue 1" class="projects__img active" data-index="0">
                            <img src="assets/img/fast-food2.png" alt="App fast-food - vue 2" class="projects__img" data-index="1">
                            <img src="assets/img/fast-food3.png" alt="App fast-food - vue 3" class="projects__img" data-index="2">
                        </div>

                        <div class="projects__modal">
                            <div>
                                <span class="projects__subtitle">Mobile</span>
                                <h3 class="projects__title">app de fast-food</h3>
                            </div>
                        </div>
                    </article>

                    <article class="projects__card">
                        <div class="projects__carousel" data-autoplay>
                            <img src="assets/img/voyage.png" alt="App voyage - vue 1" class="projects__img active" data-index="0">
                            <img src="assets/img/voyage2.png" alt="App voyage - vue 2" class="projects__img" data-index="1">
                            <img src="assets/img/voyage3.jpg" alt="App voyage - vue 3" class="projects__img" data-index="2">
                        </div>

                        <div class="projects__modal">
                            <div>
                                <span class="projects__subtitle">Mobile</span>
                                <h3 class="projects__title">app de voyage</h3>
                            </div>
                        </div>
                    </article>

                    <article class="projects__card">
                        <div class="projects__carousel" data-autoplay>
                            <img src="assets/img/music1.png" alt="Design app music - vue 1" class="projects__img active" data-index="0">
                            <img src="assets/img/music2.png" alt="Design app music - vue 2" class="projects__img" data-index="1">
                            <img src="assets/img/music3.jpg" alt="Design app music - vue 3" class="projects__img" data-index="2">
                        </div>

                        <div class="projects__modal">
                            <div>
                                <span class="projects__subtitle">Design</span>
                                <h3 class="projects__title">Design d'app de music</h3>
                            </div>
                        </div>
                    </article>
                </div>

                <!--=============== SKILLS ===============-->
                <div class="skills__content grid" data-content id="skills">
                    <div class="skills__area">
                        <h3 class="skills__title">Frontend Developer</h3>

                        <div class="skills__box">
                            <div class="skills__group">
                                <div class="skills__data">
                                    <i class="ri-checkbox-circle-line"></i>

                                    <div>
                                        <h3 class="skills__name">HTML <span class="skills__percent">80%</span></h3>
                                        <div class="skills__bar"><div class="skills__bar-fill" style="width:80%"></div></div>
                                    </div>
                                </div>

                                <div class="skills__data">
                                    <i class="ri-checkbox-circle-line"></i>

                                    <div>
                                        <h3 class="skills__name">CSS <span class="skills__percent">70%</span></h3>
                                        <div class="skills__bar"><div class="skills__bar-fill" style="width:70%"></div></div>
                                    </div>
                                </div>

                                <div class="skills__data">
                                    <i class="ri-checkbox-circle-line"></i>

                                    <div>
                                        <h3 class="skills__name">JavaScript <span class="skills__percent">40%</span></h3>
                                        <div class="skills__bar"><div class="skills__bar-fill" style="width:40%"></div></div>
                                    </div>
                                </div>
                            </div>
                                
                            <div class="skills__group">
                                <div class="skills__data">
                                    <i class="ri-checkbox-circle-line"></i>

                                    <div>
                                        <h3 class="skills__name">React <span class="skills__percent">25%</span></h3>
                                        <div class="skills__bar"><div class="skills__bar-fill" style="width:25%"></div></div>
                                    </div>
                                </div>

                                <div class="skills__data">
                                    <i class="ri-checkbox-circle-line"></i>

                                    <div>
                                        <h3 class="skills__name">Bootstrap <span class="skills__percent">0%</span></h3>
                                        <div class="skills__bar"><div class="skills__bar-fill" style="width:0%"></div></div>
                                    </div>
                                </div>

                                <div class="skills__data">
                                    <i class="ri-checkbox-circle-line"></i>

                                    <div>
                                        <h3 class="skills__name">Git <span class="skills__percent">40%</span></h3>
                                        <div class="skills__bar"><div class="skills__bar-fill" style="width:0%"></div></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="skills__area">
                        <h3 class="skills__title">Backend Developer</h3>

                        <div class="skills__box">
                            <div class="skills__group">
                                <div class="skills__data">
                                    <i class="ri-checkbox-circle-line"></i>

                                    <div>
                                        <h3 class="skills__name">PHP <span class="skills__percent">30%</span></h3>
                                        <div class="skills__bar"><div class="skills__bar-fill" style="width:30%"></div></div>
                                    </div>
                                </div>

                                <div class="skills__data">
                                    <i class="ri-checkbox-circle-line"></i>

                                    <div>
                                        <h3 class="skills__name">MySQL <span class="skills__percent">50%</span></h3>
                                        <div class="skills__bar"><div class="skills__bar-fill" style="width:50%"></div></div>
                                    </div>
                                </div>

                                <div class="skills__data">
                                    <i class="ri-checkbox-circle-line"></i>

                                    <div>
                                        <h3 class="skills__name">Firebase <span class="skills__percent">40%</span></h3>
                                        <div class="skills__bar"><div class="skills__bar-fill" style="width:40%"></div></div>
                                    </div>
                                </div>
                            </div>
                                
                            <div class="skills__group">
                                <div class="skills__data">
                                    <i class="ri-checkbox-circle-line"></i>

                                    <div>
                                        <h3 class="skills__name">Python <span class="skills__percent">30%</span></h3>
                                        <div class="skills__bar"><div class="skills__bar-fill" style="width:30%"></div></div>
                                    </div>
                                </div>

                                <div class="skills__data">
                                    <i class="ri-checkbox-circle-line"></i>

                                    <div>
                                        <h3 class="skills__name">Node Js <span class="skills__percent">0%</span></h3>
                                        <div class="skills__bar"><div class="skills__bar-fill" style="width:0%"></div></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!--=============== FOOTER ===============-->
    <footer class="footer container">
        <span class="footer__copy">
            &copy; <span id="year">2025</span> Tony Fred. All rights reserved.
        </span>
    </footer>

    <!--=============== SCROLLREVEAL ===============-->
    <script src="assets/js/scrollreveal.min.js"></script>

    <!--=============== MAIN JS ===============-->
    <script src="assets/js/main.js"></script>

		<!-- Modal carousel (remplace le lightbox simple) -->
		<div id="carouselModal" class="carousel-modal" aria-hidden="true">
			<div class="carousel-modal__inner" role="dialog" aria-modal="true">
				<button class="carousel-modal__close" id="carouselClose" aria-label="Fermer">&times;</button>

				<button class="carousel-btn prev" id="carouselPrev" aria-label="Précédent">&#10094;</button>
				<div class="carousel-view" id="carouselView">
					<!-- images insérées dynamiquement -->
				</div>
				<button class="carousel-btn next" id="carouselNext" aria-label="Suivant">&#10095;</button>

				<div class="carousel-caption" id="carouselCaption"></div>
			</div>
		</div>

		<!-- Carousel scripts (mode manuel : une image agrandie, pas d'autoplay) -->
		<script>
			(function(){
				// small in-card carousels (inchangé)
				const carousels = document.querySelectorAll('.projects__carousel');
				carousels.forEach(carousel => {
					const imgs = Array.from(carousel.querySelectorAll('.projects__img'));
					if (!imgs.length) return;

					let initialActive = imgs.findIndex(im => im.classList.contains('active'));
					if (initialActive === -1) initialActive = 0;
					imgs.forEach((im, i) => {
						im.dataset.index = i;
						im.classList.toggle('active', i === initialActive);
					});

					let idx = initialActive;
					const delay = 2500;
					function show(i){ imgs.forEach((im,n)=>im.classList.toggle('active', n===i)); }
					let interval = setInterval(()=>{ idx=(idx+1)%imgs.length; show(idx); }, delay);

					const card = carousel.closest('.projects__card');
					if(card){
						card.addEventListener('mouseenter', ()=> clearInterval(interval));
						card.addEventListener('mouseleave', ()=> {
							clearInterval(interval);
							interval = setInterval(()=>{ idx=(idx+1)%imgs.length; show(idx); }, delay);
						});
					}

					carousel.addEventListener('click', (e) => {
						const visible = imgs.find(im => im.classList.contains('active')) || imgs[0];
						const startIndex = Number.isFinite(Number(visible.dataset.index)) ? parseInt(visible.dataset.index, 10) : imgs.indexOf(visible);
						openModalWithPreload(imgs.map(i=>i.src), startIndex, visible.alt);
					});
				});

				// Modal logic
				const modal = document.getElementById('carouselModal');
				const carouselView = document.getElementById('carouselView');
				const captionEl = document.getElementById('carouselCaption');
				const closeBtn = document.getElementById('carouselClose');
				const prevBtn = document.getElementById('carouselPrev');
				const nextBtn = document.getElementById('carouselNext');

				let modalImgs = [];
				let current = 0;

				function preload(src) {
					return new Promise((resolve, reject) => {
						const img = new Image();
						img.onload = () => resolve(src);
						img.onerror = () => reject(src);
						img.src = src;
					});
				}
				function preloadAll(srcs) {
					const promises = srcs.map(s => preload(s).then(() => ({ status: 'ok', src: s })).catch(() => ({ status: 'err', src: s })));
					return Promise.all(promises).then(results => results.filter(r => r.status === 'ok').map(r => r.src));
				}

				// Render images valides; active = image agrandie (une seule visible)
				function renderModalImages(srcs, startIndex) {
					carouselView.innerHTML = '';
					modalImgs = [];
					srcs.forEach((s, i) => {
						const img = document.createElement('img');
						img.src = s;
						img.alt = '';
						img.className = 'carousel-modal__img';
						img.dataset.index = i;
						if (i === startIndex) img.classList.add('active');
						carouselView.appendChild(img);
						modalImgs.push(img);
					});
				}

				// Ouvre modal après préchargement ; pas d'autoplay
				function openModalWithPreload(srcs, startIndex = 0, caption = '') {
					carouselView.innerHTML = '<div style="color:#fff; padding:1rem;">Chargement...</div>';
					modal.classList.add('open');
					modal.setAttribute('aria-hidden','false');
					document.body.style.overflow = 'hidden';
					captionEl.textContent = caption || '';

					preloadAll(srcs).then(validSrcs => {
						if (!validSrcs.length) {
							carouselView.innerHTML = '<div style="color:#fff; padding:1rem;">Aucune image disponible</div>';
							modalImgs = [];
							return;
						}
						const originalStartSrc = srcs[startIndex] || srcs[0];
						let newStart = validSrcs.indexOf(originalStartSrc);
						if (newStart === -1) newStart = 0;

						renderModalImages(validSrcs, newStart);
						current = newStart;
						updateModal();
					}).catch(() => {
						carouselView.innerHTML = '<div style="color:#fff; padding:1rem;">Erreur lors du chargement des images</div>';
						modalImgs = [];
					});
				}

				function closeModal(){
					modal.classList.remove('open');
					modal.setAttribute('aria-hidden','true');
					document.body.style.overflow = '';
					carouselView.innerHTML = '';
					modalImgs = [];
				}

				// Affiche uniquement l'image courante (active)
				function updateModal(){
					modalImgs.forEach((im,i)=>{
						im.classList.toggle('active', i === current);
					});
					const focused = modalImgs[current];
					if (focused) focused.scrollIntoView({ behavior: 'smooth', block: 'center', inline: 'center' });
				}

				function nextModal(){
					if(!modalImgs.length) return;
					current = (current + 1) % modalImgs.length;
					updateModal();
				}
				function prevModal(){
					if(!modalImgs.length) return;
					current = (current - 1 + modalImgs.length) % modalImgs.length;
					updateModal();
				}

				closeBtn.addEventListener('click', closeModal);
				nextBtn.addEventListener('click', nextModal);
				prevBtn.addEventListener('click', prevModal);

				// fermer modal au clic sur le fond uniquement
				modal.addEventListener('click', (e) => {
					if(e.target === modal) closeModal();
				});

				// navigation clavier
				document.addEventListener('keydown', (e) => {
					if(!modal.classList.contains('open')) return;
					if(e.key === 'ArrowRight') nextModal();
					if(e.key === 'ArrowLeft') prevModal();
					if(e.key === 'Escape') closeModal();
				});

			})();
		</script>
</body>

</html>
